---
title: "Interaction to Next Paint (INP): 3 Optimizations You Need to Know"
cover:
  src: ./_assets/interaction-to-next-paint-stroke.jpg
  alt: "Blue paint stroke on white canvas"
  credit:
    "Photo by [Dan Cristian Pădureț](https://unsplash.com/photos/hguxpsaUpBk)"
description:
  "Everything you need to know about the Interaction to Next Paint (INP) Core
  Web Vital"
---

import Image from "@components/BlogImage.astro";

At the time of this writing, around **35% of mobile websites** are projected to
**fail** Google's new measurement for interaction responsiveness, **Interaction
to Next Paint (INP)** when it goes into effect on **March 2024**.

import CruxChart from "./_components/INPCruxChart.astro";

<CruxChart />

Users expect that when they interact with a page by clicking a button, tapping a
menu item, or pressing a key, visual feedback happens — **and occurs quickly**.
INP captures the latency each interaction takes to result in a visual update and
flags interactions that are slow enough to cause a poor user experience.

Replacing the **Core Web Vital** called **First Input Delay (FID)**, INP will
factor into your website's search ranking. The upcoming change is expected to
provide a more accurate assessment of a user's experience on a page compared to
FID. And the numbers back this up — 99.9% of desktop and 93.2% of mobile sites
passed FID with flying colors, but this was mostly because it only measured a
_portion_ of the user's _first interaction_ on a page.

This article describes INP and how you can optimize it for your website.

## What is Interaction to Next Paint (INP)?

INP is a metric that evaluates how fast a page visually responds to eligible
user interactions.

import inpTimeline from "./_assets/interaction-to-next-paint-timeline.png";

<Image background src={inpTimeline} alt="Interaction to Next Paint Timeline" />

## How is INP Measured?

Throughout the lifespan of a user's visit to a page, each click, tap, and
keyboard press is timed from the moment the interaction begins to the moment a
**visual update** occurs. This elapsed time represents the **interaction's
latency**. When the user leaves the page, the INP score is calculated based on
the recorded interaction latencies.

Notably, the visual update doesn't _need_ to be the final desired visual state.
It can be an **intermediate state** like a spinner. As long as the interaction
results in timely visual feedback that shows progress is occurring, good INP
scores can be achieved. Just make sure you use the
[best progress indicator for the situation](https://www.nngroup.com/articles/progress-indicators/).

import inpSpinner from "./_assets/inp-progress-indicator.png";

<Image
  background
  src={inpSpinner}
  alt="Spinner showing after a user interaction"
/>

For pages that do not have over 50 interactions, **the longest interaction
latency is used as the INP score**. Otherwise, the highest interaction for every
50 interactions is ignored in an attempt to reduce outliers.

As with other Core Web Vitals, the **75th percentile** of all the page views is
then reported, further reducing noise.

## What's a good INP score?

At the **75th percentile** for any given page and segmented across desktop and
mobile devices:

- INP \<= **200 milliseconds** indicates a page has **good responsiveness**
- INP \<= **500 milliseconds** indicates a page **needs improvement**
- INP \> **500 milliseconds** indicates a page has **poor responsiveness**

import inpScores from "./_assets/interaction-to-next-paint-scores.png";

<Image background src={inpScores} alt="Interaction to Next Paint Scores" />

## What interactions does INP measure?

INP measures the following interactions:

- Mouse clicks
- Taps on a touchscreen
- Key presses

It does NOT measure:

- Hovering
- Scrolling

## What can happen during an interaction?

INP contains **three phases**:

1. **Input delay**: Begins at the moment a user clicks, taps, or presses a key
   to the moment at which JavaScript event callbacks start executing
2. **Processing time**: The total execution time of the event callbacks
3. **Presentation delay**: Begins at the moment the event callbacks complete to
   the moment that a visual update occurs

import inpComponents from "./_assets/interaction-to-next-paint-components.png";

<Image
  background
  src={inpComponents}
  alt="Interaction to Next Paint Components"
/>

Each of these phases can add time to the interaction's latency. Part of the
reason why First Input Delay rarely failed was because it only measured the
**input delay** portion of the user's first interaction. Because INP measures
all the way to the first frame a user can see, it is much better indicator of a
user's experience.

## How to Optimize Interaction to Next Paint

## Optimizing Input delay

### Be careful with `<script defer>`

### Reduce recurring timers

## Optimizing Processing time

### Eliminate Layout Thrashing

### Show progress

## Optimizing presentation delay
