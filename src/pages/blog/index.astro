---
import Article from "@components/Article.astro";
import Layout from "@layouts/Layout.astro";
import { getPosts } from "@src/api";
import {
  blogSection,
  blogSectionInner,
  blogSectionTitle,
  blogSectionPosts,
} from "./index.css";

const posts = await getPosts();
---

<Layout title="Blog â€” Nicholas Ray">
  <main>
    <section class={blogSection}>
      <div class={blogSectionInner}>
        <h1 class={blogSectionTitle}>
          {posts.length} Posts
        </h1>
        <ul class={blogSectionPosts}>
          {
            posts.map((post) => (
              <li>
                <Article post={post} />
              </li>
            ))
          }
        </ul>
      </div>
    </section>
  </main>
</Layout>
